{extends file="admin-layout.tpl"}

{block name="no-return-functions"}
    {$admin_current_location = 'modules'}
{/block}

{block name="page-title"}{intl d="tntfrance.bo.default" l='TNTFrance configuration'}{/block}

{block name="check-resource"}admin.module{/block}
{block name="check-access"}view{/block}
{block name="check-module"}TNTFrance{/block}

{block name="main-content"}
    <div class="container" id="wrapper">
        <ul class="breadcrumb">
            <li><a href="{url path='/admin'}">{intl l="Home" d="tntfrance.bo.default"}</a></li>
            <li><a href="{url path='/admin/modules'}">{intl l="Modules" d="tntfrance.bo.default"}</a></li>
            <li>{intl l="TNTFrance configuration" d="tntfrance.bo.default"}</li>
        </ul>

        <div class="general-block-decorator">
            <div class="table-responsive">
                <table class="table table-striped table-condensed">
                    <caption>
                        {intl l="TNT accounts" d="tntfrance.bo.default"}

                        <a class="btn btn-primary action-btn"
                           title="{intl l="Add an account" d="tntfrance.bo.default"}"
                           href="{url path='/admin/module/TNTFrance/account/'}">
                            <span class="glyphicon glyphicon-plus-sign"></span>
                        </a>

                    <tbody>
                    {foreach $accounts as $account}
                        <tr>
                            <td>
                                <a href="{url path="/admin/module/TNTFrance/account/{$account.id}"}">{$account.label}</a>
                            </td>
                        </tr>
                    {/foreach}
                    </tbody>
                </table>
            </div>
        </div>

        <div class="general-block-decorator">
            <div class="title title-without-tabs">
                {intl l="Configure tntfrance" d="tntfrance.bo.default"}
            </div>

            <div class="row">
                <div class="col-md-12">

                    {if $success}
                    <div class="alert alert-success">
                        {intl l="Configuration correctly saved" d="tntfrance.bo.default"}
                    </div>
                    {/if}

                    {if $general_error}
                    <div class="alert alert-danger">
                        {$general_error}
                    </div>
                    {/if}

                    <ul class="nav nav-tabs" id="tabbed-menu">
                        <li class="{if $smarty.get.current_tab == general || !$smarty.get.current_tab}active{/if}"><a href="#general" data-toggle="tab">{intl l="General" d="tntfrance.bo.default"}</a></li>
                        <li class="{if $smarty.get.current_tab == weight}active{/if}"><a href="#weight" data-toggle="tab">{intl l="Prices and weights" d="tntfrance.bo.default"}</a></li>
                    </ul>

                    <div class="tab-content">

                        <div class="tab-pane {if $smarty.get.current_tab == general || !$smarty.get.current_tab}active in{else}fade clearfix{/if}" id="general">
                            {include file="includes/configuration-general-tab.html"}
                        </div>

                        <div class="tab-pane {if $smarty.get.current_tab == weight}active in{else}fade clearfix{/if}" id="weight">
                            {include file="includes/configuration-weight-tab.html"}
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
{/block}

{block name="javascript-initialization"}

{javascripts file='assets/js/bootstrap-switch/bootstrap-switch.js'}
<script src="{$asset_url}"></script>
{/javascripts}

{javascripts file='assets/js/bootstrap-editable/bootstrap-editable.js'}
<script src="{$asset_url}"></script>
{/javascripts}

{javascripts source="TNTFrance" file="assets/js/configuration.js"}
<script type="text/javascript" src="{$asset_url}"></script>
{/javascripts}

{/block}